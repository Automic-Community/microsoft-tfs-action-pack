*** Settings ***
Documentation     NOTE:
...               add note here
Suite Setup       Setup_suite
Suite Teardown    Teardown_suite
Force Tags        MERGE    _template_
Default Tags      win    unix
Test Template     Merge Template
Resource          ../../resources/keywords.txt
Resource          prt_keywords.txt

*** Test Cases ***    OK_NOK    TF Utility Path      Workspace            Version    Source                   Destination       Recursive    Lock    Force    Discard    Baseless    Candidate    RETURN CODE    RETURN STATUS    MESSAGE
01_Success Merge      OK        ${_TFS_UTIL_PATH}    C:\\Projects         T          MyProject-branch\\xml    MyProject\\xml    YES          NONE    YES      NO         NO          NO           0              ${ENDED_OK}      ${EMPTY}

02_Fail Merge Wrong utility path
                      NOK       wrong                C:\\Projects         T          MyProject-branch\\xml    MyProject\\xml    YES          NONE    YES      NO         NO          NO           0              ${ENDED_NOK}     ${EMPTY}

03_Fail Merge Wrong workspace path
                      NOK       ${_TFS_UTIL_PATH}    C:\\Projectswrong    T          MyProject-branch\\xml    MyProject\\xml    YES          NONE    YES      NO         NO          NO           0              ${ENDED_NOK}     ${EMPTY}

04_Fail Merge Wrong item
                      NOK       ${_TFS_UTIL_PATH}    C:\\Projects         T          wrong                    MyProject\\xml    YES          NONE    YES      NO         NO          NO           0              ${ENDED_NOK}     ${EMPTY}

05_Fail Merge Wrong version
                      NOK       ${_TFS_UTIL_PATH}    C:\\Projects         C123456    MyProject-branch\\xml    MyProject\\xml    YES          NONE    YES      NO         NO          NO           0              ${ENDED_NOK}     ${EMPTY}

*** Keywords ***
Merge Template
    [Arguments]    ${OK_NOK}    ${TFS_UTIL_PATH}    ${TFS_WORKING_DIR}    ${TFS_VERSION}    ${TFS_SOURCE}    ${TFS_DESTINATION}
    ...    ${TFS_RECURSIVE}    ${TFS_LOCK}    ${TFS_FORCE}    ${TFS_DISCARD}    ${TFS_BASELESS}    ${TFS_CANDIDATE}
    ...    ${returnCode}    ${returnStatus}    ${message}
    [Documentation]    This template is used for test MERGE with needed arguments
    Init Action    ${ACTION_MERGE}
    Action Set    ${PRT_MERGE_TFS_UTIL_PATH}    ${TFS_UTIL_PATH}
    Action Set    ${PRT_MERGE_TFS_WORKING_DIR}    ${TFS_WORKING_DIR}
    Action Set    ${PRT_MERGE_TFS_VERSION}    ${TFS_VERSION}
    Action Set    ${PRT_MERGE_TFS_SOURCE}    ${TFS_SOURCE}
    Action Set    ${PRT_MERGE_TFS_DESTINATION}    ${TFS_DESTINATION}
    Action Set    ${PRT_MERGE_TFS_RECURSIVE}    ${TFS_RECURSIVE}
    Action Set    ${PRT_MERGE_TFS_LOCK}    ${TFS_LOCK}
    Action Set    ${PRT_MERGE_TFS_FORCE}    ${TFS_FORCE}
    Action Set    ${PRT_MERGE_TFS_DISCARD}    ${TFS_DISCARD}
    Action Set    ${PRT_MERGE_TFS_BASELESS}    ${TFS_BASELESS}
    Action Set    ${PRT_MERGE_TFS_CANDIDATE}    ${TFS_CANDIDATE}
    Action Set Timeout    300
    Action Execute
    Action Report Should Be Found
    Run Keyword If    '${OK_NOK}'=='OK'    Action Return Code Should Be    ${returnCode}
    Action Return Status Should Be    ${returnStatus}
    Action Report Should Contain    ${header_logging}
    Action Report Should Contain    ${param_logging}
    Run Keyword If    '${OK_NOK}'=='OK'    Action Report Should Contain    ${execution_logging}
    Run Keyword If    '${OK_NOK}'=='OK'    Action Report Should Contain    ${message}
    Run Keyword If    '${OK_NOK}'=='OK'    Action Report Should Contain    ${footer_logging_OK}

Setup_suite
    [Documentation]    TODO: Write all steps need prepare before testing here
    Log    Start testing for Merge Template

Teardown_suite
    [Documentation]    TODO: Write all steps for cleanup after testing here
    Log    Testing for Merge Template end
