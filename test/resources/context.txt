*** Settings ***
Documentation     THIS CONTEXT FILE WORKING WITH AUTOMATED TEST SYSTEM
Resource          actions.txt
Resource          ../testdata/dataForPromptset.txt
Resource          ../testdata/loginobjects.txt
Resource          ../env/default.txt

*** Variables ***
#- CONTEXT VARIABLES ---
${_AGENT}         /
${_LOGIN}         /
${_WORKING_DIR}    /
${_DEFAULT_SOURCE_DIR}    /
${_DEFAULT_OUTPUT_DIR}    /
${_TFS_UTIL_PATH}    /
${_TFS_AUTHOR}    Administrator
${_TFS_SERVER}    /
${_TFS_BASE_ITEM}    Projects
${_TFS_BASE_VERSION}    85    #D2016-02-24
${_PREFIX}        FIBO

*** Key Words ***
Init Agent
    [Documentation]    Requirement
    Run Keyword If    '${ENV}' == 'WIN'    Init Win Agent
    Run Keyword If    '${ENV}' == 'UNIX'    Init Unix Agent
    Run Keyword If    '${ENV}' == 'VVNTFS04' and '${APP}' == 'TFS'    Init VVNTFS04 Agent to Test TFS
    Run Keyword If    '${ENV}' == 'VVNTFS03' and '${APP}' == 'TFS'    Init VVNTFS03 Agent to Test TFS
    Run Keyword If    '${ENV}' == 'VVNATSATTFS01' and '${APP}' == 'TFS'    Init VVNATSATTFS01 Agent to Test TFS

Init Win Agent
    [Documentation]    TODO: Write agent used to test description here
    Set Global Variable    ${/}    \\
    Set Global Variable    ${_OS}    WIN

Init Unix Agent
    [Documentation]    TODO: Write agent used to test description here
    Set Global Variable    ${/}    /
    Set Global Variable    ${_OS}    UNIX

Init VVNTFS04 Agent to Test TFS
    Set Global Variable    ${/}    \\
    Set Global Variable    ${_OS}    WIN
    #Vm Connect    @{VM}
    #    Vm Revert    VVNTFS04    WIN_AGENT_TFS_2008
    Log    Wait for agent up...
    #    Sleep    5 minutes
    Log    Agent might be up :D
    Set Global Variable    ${_AGENT}    ${VVNTFS04_AGENT}
    Set Global Variable    ${_LOGIN}    ${LOGIN.ALL}
    Set Global Variable    ${_WORKING_DIR}    ${VVNTFS04_WORKING_DIR}
    Set Global Variable    ${_DEFAULT_OUTPUT_DIR}    ${VVNTFS04_DEFAULT_OUTPUT_DIR}
    Set Global Variable    ${_DEFAULT_SOURCE_DIR}    ${VVNTFS04_DEFAULT_SOURCE_DIR}
    Set Global Variable    ${_TFS_UTIL_PATH}    ${VVNTFS04_TFS_UTILITY_PATH}
    Set Global Variable    ${_TFS_SERVER}    ${VVNTFS04_TFS_SERVER}

Init VVNTFS03 Agent to Test TFS
    Set Global Variable    ${/}    \\
    Set Global Variable    ${_OS}    WIN
    #Vm Connect    @{VM}
    #    Vm Revert    VVNTFS03    WIN_AGENT_TFS_2010
    Log    Wait for agent up...
    #    Sleep    5 minutes
    Log    Agent might be up :D
    Set Global Variable    ${_AGENT}    ${VVNTFS03_AGENT}
    Set Global Variable    ${_LOGIN}    ${LOGIN.ALL}
    Set Global Variable    ${_WORKING_DIR}    ${VVNTFS03_WORKING_DIR}
    Set Global Variable    ${_DEFAULT_OUTPUT_DIR}    ${VVNTFS03_DEFAULT_OUTPUT_DIR}
    Set Global Variable    ${_DEFAULT_SOURCE_DIR}    ${VVNTFS03_DEFAULT_SOURCE_DIR}
    Set Global Variable    ${_TFS_UTIL_PATH}    ${VVNTFS03_TFS_UTILITY_PATH}
    Set Global Variable    ${_TFS_SERVER}    ${VVNTFS03_TFS_SERVER}

Init VVNATSATTFS01 Agent to Test TFS
    Set Global Variable    ${/}    \\
    Set Global Variable    ${_OS}    WIN
    Set Global Variable    ${_AGENT}    ${VVNATSATTFS01_AGENT}
    Set Global Variable    ${_LOGIN}    ${LOGIN.ALL}
    Set Global Variable    ${_WORKING_DIR}    ${VVNATSATTFS01_WORKING_DIR}
    Set Global Variable    ${_DEFAULT_OUTPUT_DIR}    ${VVNATSATTFS01_DEFAULT_OUTPUT_DIR}
    Set Global Variable    ${_DEFAULT_SOURCE_DIR}    ${VVNATSATTFS01_DEFAULT_SOURCE_DIR}
    Set Global Variable    ${_TFS_UTIL_PATH}    ${VVNATSATTFS01_TFS_UTILITY_PATH}
    Set Global Variable    ${_TFS_SERVER}    ${VVNATSATTFS01_TFS_SERVER}
